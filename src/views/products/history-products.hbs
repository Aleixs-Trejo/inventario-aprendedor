<section class="section__all--views">
  <div class="content__views">
    <div class="container views__container">
      <div class="card__items">
        <div class="items__elements__title">
          <h5 class="items__name">Historial Productos</h5>
        </div>
        <div class="sub__header">
          <div class="sub__header__container">
            <article class="sub__header__content">
              <section class="section__sub__header">
                <article class="article__sub__header sub__header__actions">
                  <div class="sub__header__actions__container">
                    <div class="sub__header__action">
                      <a href="/products" class="sub__header__link">
                        <figure class="sub__header__figure">
                          <img src="/assets/icon-back.svg" alt="Icon Back" class="sub__header__img">
                        </figure>
                      </a>
                      <span class="sub__header__span">Volver</span>
                    </div>
                    {{#hasPermission permisosRol "crear-producto"}}
                      <div class="sub__header__action">
                        <a href="/products/register" class="sub__header__link">
                          <figure class="sub__header__figure">
                            <img src="/assets/icon-add.svg" alt="Icon Add" class="sub__header__img">
                          </figure>
                        </a>
                        <span class="sub__header__span">Nuevo Producto</span>
                      </div>
                    {{/hasPermission}}
                  </div>
                </article>
              </section>
            </article>
          </div>
        </div>
        {{#if productsHistory}}
          <section class="items">
            <div class="items__container__elements">
              <section class="views__container--elements view__scrollbar">
                <div class="views__content--elements items__container products__history">
                  <article class="items__header items__grid products__history">
                    <div class="flex-c-c">Tipo Registro</div>
                    <div class="flex-c-c">Hecho por</div>
                    <div class="flex-c-c">Cod</div>
                    <div class="flex-c-c">Producto</div>
                    <div class="flex-c-c">DescripciÃ³n</div>
                    <div class="flex-c-c">Proveedor</div>
                    <div class="flex-c-c">CategorÃ­a</div>
                    <div class="flex-c-c">P/Compra</div>
                    <div class="flex-c-c">P/Venta</div>
                    <div class="flex-c-c">Stock Seg</div>
                    <div class="flex-c-c">Stock Min</div>
                    <div class="flex-c-c">Fecha</div>
                  </article>
                  <div class="items__data--values" id="data-container">
                    {{#each productsHistory}}
                      <div class="container__data">
                        <article class="items__data items__grid products__history">
                          <div class="flex-c-c"><span class="span__data__item tipo__historial">{{tipoHistorial}}</span></div>
                          <div class="flex-c-c">{{#if usuarioHistorial}}{{usuarioHistorial.usuario}}{{else}}-{{/if}}</div>
                          <div class="flex-c-c">{{#if codProductoHistorial}}{{codProductoHistorial}}{{else}}-{{/if}}</div>
                          <div class="flex-c-c">{{#if nombreProductoHistorial}}{{nombreProductoHistorial}}{{else}}-{{/if}}</div>
                          <div class="flex-c-c">{{#if descripcionProductoHistorial}}{{descripcionProductoHistorial}}{{else}}-{{/if}}</div>
                          <div class="flex-c-c">{{#if proveedorProductoHistorial}}{{proveedorProductoHistorial.nombreProveedor}}{{else}}-{{/if}}</div>
                          <div class="flex-c-c">{{#if categoriaProductoHistorial}}{{categoriaProductoHistorial.nombreCategoria}}{{else}}-{{/if}}</div>
                          <div class="flex-c-c">{{#if precioCompraProductoHistorial}}S/{{formatCurrency precioCompraProductoHistorial}}{{else}}-{{/if}}</div>
                          <div class="flex-c-c">{{#if precioVentaProductoHistorial}}S/{{formatCurrency precioVentaProductoHistorial}}{{else}}-{{/if}}</div>
                          <div class="flex-c-c">{{#if stockSeguridadProductoHistorial}}{{stockSeguridadProductoHistorial}}{{else}}-{{/if}}</div>
                          <div class="flex-c-c">{{#if stockMinimoProductoHistorial}}{{stockMinimoProductoHistorial}}{{else}}-{{/if}}</div>
                          <div class="flex-c-c">{{formatDateTime createdAt}}</div>
                        </article>
                      </div>
                    {{/each}}
                  </div>
                  <div id="sentinel"></div>
                </div>
              </section>
            </div>
          </section>
        {{else}}
          <h5 class="items__empty">No hay historial para mostrar ðŸ˜¿</h5>
        {{/if}}
      </div>
    </div>
  </div>
</section>